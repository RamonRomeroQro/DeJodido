
<!doctype html>



<script type="text/javascript" src="https://code.jquery.com/jquery.min.js"></script>
<script>


</script>


{% extends "base.html" %}
{% load staticfiles %}
{% block content %}
      <script src="{% static 'js/jquery.waypoints.min.js' %}"></script>
  <script src="{% static 'js/infinite.min.js' %}"></script>




      {% include 'searchbar.html' %}
<br><br>



 <div class="row infinite-container">

    {% for number in numbers %}

            <div class="col s12 m6 l4 infinite-item">


<a href="{% url 'lugares:detalle_lugar' number.nombre number.id %}">
           <div class="lugar" style=" border-style: solid;
    border-color: white;">


        <div class="slider">
        <ul class="slides">
        <!-------------------->



        {% for f in number.imagen_set.all %}


        <li>
        <img src="{{ f.imagen.url }}"> <!-- random image -->
        <div class="caption right-align " >
        <br><br><br><br><br><br><br><br><br><br><br><br><br><br>
        <h9 class="light grey-text text-lighten-3">

                            {{ f.descripcion }}


        </h9>
        </div>
        </li>

{% endfor %}


        <!-------------------->


        </ul>
        </div>


      <div class="info center ">
                    {{ number.nombre }}<br>

                    Rating:

                 {% if number.rating < 1.7 %}
                                        &#x2b50;
                     {% elif number.rating >= 1.7 and  number.rating < 2.7 %}
                                        &#x2b50;&#x2b50;

                     {% elif number.rating >= 2.7 and  number.rating < 3.7 %}
                                        &#x2b50;&#x2b50;&#x2b50;

                     {% elif number.rating >= 3.7 and  number.rating < 4.7 %}
                                        &#x2b50;&#x2b50;&#x2b50;&#x2b50;
                     {% elif number.rating >= 4.7 and  number.rating <= 5 %}
                                        &#x2b50;&#x2b50;&#x2b50;&#x2b50;&#x2b50;

                     {% elif number.rating == -100 %}
                         Información no dismponible
                     {% else %}
                     <span class="error">Error</span>

              {% endif %}
                    [{{ number.rating|floatformat:2  }}]<br>

      Precio:{% if number.precio == -100 %}
               Información no disponible
                  {% else %}
          {{ number.precio|floatformat:0  }}
              {% endif %}<br>

      </div>


      </div>
</a>

        </div>
    {% endfor %}

  </div>

  <div class="loading" style="display: none;">
           <div class="row">

    Loading...

                       </div>

  </div>



  {% if numbers.has_next %}
      <base href="" />
      <a id="infinite-more-link-id" class="infinite-more-link" {% if numbers.has_next %} href="{{ request.get_full_path }}&page={{ numbers.next_page_number }}" {% endif %}>More</a>
  {% endif %}



 <script>


    var infinite = new Waypoint.Infinite({

      element: $('.infinite-container')[0],

      onBeforePageLoad: function () {
          $('.loading').show();





      },
      onAfterPageLoad: function ($items) {
          $('.loading').hide();

          $('.slider').slider({    indicators:false,
    interval:1300,
    height:400, duration:500
    });







      }
    });
  </script>


{% endblock %}


