
<!doctype html>



<script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
<script>

     document.addEventListener('DOMContentLoaded', function() {
    var elems = document.querySelectorAll('.slider');
    var instances = M.Slider.init(elems, options);
  });

  // Or with jQuery

  $(document).ready(function(){
    $('.slider').slider({    indicators:false,
    interva:1300,
    height:400, duration:500
    });

    //Agreagar a fucion scroll on load
    var clase=$('.stars');
    var i;
    for (i = 0; i < clase.length; i++) {
        var span = clase[i].id;
        var str=$("#"+span).html();
        var value= parseFloat(str);


        if (value<1) {
            $("#"+span).html('');
        } else if (value>=1 && value<1.7){
            $("#"+span).html('&#x2b50;');
        }else if (value>=1.7 && value<2.7){
            $("#"+span).html('&#x2b50;&#x2b50;');
        }else if (value>=2.7 && value<3.7){
            $("#"+span).html('&#x2b50;&#x2b50;&#x2b50;');
        }else if (value>=3.7 && value<4.7){
            $("#"+span).html('&#x2b50;&#x2b50;&#x2b50;&#x2b50;');
        }else if (value>=4.7 && value<=5){
            $("#"+span).html('&#x2b50;&#x2b50;&#x2b50;&#x2b50;&#x2b50;');
        }else {
            $("#"+span).html('Error');
        }










    }




  });
</script>


{% extends "base.html" %}
{% load staticfiles %}
{% block content %}



      {% include 'searchbar.html' %}
<br><br>

{% for place in lugares %}
    {% if forloop.first %}
        <div class="row">
    {% endif %}
    <div class="col s12 m6 l4">


<a href="{% url 'lugares:detalle_lugar' place.nombre place.id %}">
           <div class="lugar" style=" border-style: solid;
    border-color: white;">


        <div class="slider">
        <ul class="slides">
        <!-------------------->



        {% for f in place.imagen_set.all %}


        <li>
        <img src="{{ f.imagen.url }}"> <!-- random image -->
        <div class="caption right-align " >
        <br><br><br><br><br><br><br><br><br><br><br><br><br><br>
        <h9 class="light grey-text text-lighten-3">

                            {{ f.descripcion }}


        </h9>
        </div>
        </li>

{% endfor %}


        <!-------------------->


        </ul>
        </div>


      <div class="info center ">
                    {{ place.nombre }}<br>

                    Rating:
              {% if place.rating == -100 %}
               Información no disponible
                  {% else %}

                  <span id="{{ place.id }}" class="stars" >{{ place.rating|floatformat:2 }}</span>[{{ place.rating|floatformat:2  }}]
              {% endif %}                  <br>
      Precio:{% if place.precio == -100 %}
               Información no disponible
                  {% else %}
          {{ place.precio|floatformat:0  }}
              {% endif %}<br>

      </div>


      </div>
</a>

        </div>
    {% if forloop.counter|divisibleby:3 %}</div>
        <div class="row">{% endif %}
    {% if forloop.last %}</div>{% endif %}
{% endfor %}












{% endblock %}


